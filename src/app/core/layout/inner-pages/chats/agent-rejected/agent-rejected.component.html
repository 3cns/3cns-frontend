<div class="content-wrapper">
  <section class="content-header">
    <h1>Rejected Chats</h1>
  </section>
  <section class="content">
    <div class="row">
      <div class="col-xs-12">
        <div class="box">
          <div class="col-xs-12">
            <div class="row">
              <h2>Messages
                <div class="pull-left">Search : <input [(ngModel)]="searchKeywords" placeholder="All keywords" (ngModelChange)="agentFilterKeyUp()"></div>
              </h2>

            </div>

            <div class="row" *ngIf="agentList !== undefined && agentList.length">
              <div class="col-md-2 col-sm-2">
                <div class="row">
                  <div class="chat-list">
                    <ul>
                      <ng-container
                        *ngFor="let agent of agentList; let i = index;">
                        <li [ngClass]="{ active : agentIndex == i}" (click)="changeAgent(i)"
                            *ngIf="agent.chat.length > 0 && agent.rejectedStatus">
                          <div class="col-md-12">
                            <div class="chat-content">
                              <h3>{{agent.agent.first_name + ' ' + agent.agent.last_name}}</h3>
                            </div>
                          </div>
                        </li>
                      </ng-container>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="col-md-2 col-sm-2">
                <div class="row">
                  <div class="chat-list">
                    <ul *ngIf="agentList[agentIndex].chat !== undefined">
                      <ng-container
                        *ngFor="let client of agentList[agentIndex]?.chat; let j = index;">
                        <li [ngClass]="{ active : clientIndex == j}" (click)="changeClient(j)"
                            *ngIf="client.status === '3'">
                          <div class="col-md-2">
                            <div class="chat-head row">
                              <img src="../../../../assets/img/avatar5.png"
                                   class="img-responsive">
                            </div>
                          </div>
                          <div class="col-md-10">
                            <div class="chat-content">
                              <h3>{{client.client_name}} <span>{{client.chat_time.date | amFromUtc | amLocal | amTimeAgo}}</span>
                              </h3>
                            </div>
                          </div>
                        </li>
                      </ng-container>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
            <div class="row" *ngIf="!rejected">
              <div class="box box-primary">
                <div class="box-body">
                  <h4>No Rejected Chats at this Moment!</h4>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- /.box -->
      </div>
      <!-- /.col -->
    </div>
    <!-- /.row -->
  </section>
</div>


